=  Objectif 256 clusters
image::mi-256.png[]
//mi-3

[NOTE.speaker]
====
On a un outil pour v√©rifier la connectivit√© des clusters. On va maintenant v√©rifier sur un grand nombre de clusters.
====

== Passage √† 128 clusters

:imagesdir: assets/default/images
image::eks-128.png[]

[NOTE.speaker]
====
Nous avons r√©ussi √† d√©ployer 64 clusters. Passons maintenant √† 128.
====

== !

image::128-clusters.apng[width=70%]

[NOTE.speaker]
====
J'ai doubl√© la parall√©lisation des helm upgrade, passant de 7 √† 14 pour gagner encore plus de temps.

üß™ **3 essais** avant de r√©ussir √† passer ce cap.

* **Temps des tests** : **environ 1 heure** => c'est probablement trop pour 511 clusters.

En parlons de temps regardons en combien de temps s'est d√©roul√© le d√©ploiement.
====

== !

[cols="1,1,1", options="header"]
|===
| Clusters | D√©ploiement | Connexions

| pass:[<span style="color:gray;">32</span>]
| pass:[<span style="color:gray;">17 minutes</span>]
| pass:[<span style="color:gray;">5 minutes</span>]

| pass:[<span style="color:gray;">64</span>]
| pass:[<span style="color:gray;">15 minutes</span>]
| pass:[<span style="color:gray;">2 minutes</span>]

| pass:[<strong><span style="color:#3366cc;">128</span></strong>]
| pass:[<strong><span style="color:#3366cc;">19 minutes</span></strong>]
| pass:[<strong><span style="color:#3366cc;">2 minutes 30</span></strong>]
|===

[NOTE.speaker]
====
Nous commen√ßons √† perdre du temps avec 128 clusters.

Si la tendance continue, on pourrait connecter 511 clusters en seulement 10 minutes.
====

== üß® Le mur des 256

image::eks-256.png[]
[NOTE.speaker]
====
* Passons maintenant √† 256 clusters.
====

== !

image::256-clusters.apng[width=70%]

[NOTE.speaker]
====
* **5 essais** ont √©t√© n√©cessaires pour atteindre le sommet

* D√©ployer **256 clusters en simultan√©** ?
  ‚Üí **Mission impossible**
* D√©ploiement 128 en simultan√©e

* Au 3√®me essai tout fonctionnait jusqu'√† l'√©preuve de la cr√©ation des connexions.
* Au moment de la cr√©ation de connexion, √ßa a plant√©. Pourquoi parce que √ßa cr√©ait un secret qui avait une taille > 1 Mo
* La r√©solution est un peu technique tout est d√©taill√© sur le blog.
====

== !

[cols="1,1,1", options="header"]
|===
| Clusters | D√©ploiement | Connexions

| pass:[<span style="color:gray;">64</span>]
| pass:[<span style="color:gray;">15 minutes</span>]
| pass:[<span style="color:gray;">2 minutes</span>]

| pass:[<span style="color:gray;">128</span>]
| pass:[<span style="color:gray;">19 minutes</span>]
| pass:[<span style="color:gray;">2 minutes 30</span>]

| pass:[<strong><span style="color:#3366cc;">256</span></strong>]
| pass:[<strong><span style="color:#3366cc;">40 minutes</span></strong>]
| pass:[<strong><span style="color:#3366cc;">4 minutes 30</span></strong>]

|===

[NOTE.speaker]
====
Le temps de d√©ploiement a doubl√© : logique on n'a pas pu d√©ployer 256 clusters en parall√®le.

Au niveau des connexions, on a √©galement perdu beaucoup de temps alors qu'on avait doubl√© le nombre de helm upgrade en parall√®le.

Si la tendance continue, on pourrait connecter 511 clusters en 9 minutes.
====
